# vim:ft=automake
# Copyright (C) 2012 Data Differential
# All rights reserved.
#
# Use and distribution licensed under the BSD license.  See
# the COPYING file in the parent directory for full text.
#
# included from Top Level Makefile.am
# All paths should be given relative to the root

t_asql_version_SOURCES= tests/asql/version.cc
t_asql_version_LDADD= src/asql/libattachsql.la
check_PROGRAMS+= t/asql/version
noinst_PROGRAMS+= t/asql/version

t_asql_query_SOURCES= tests/asql/query.cc
t_asql_query_LDADD= src/asql/libattachsql.la
if BUILD_WIN32
t_asql_query_LDADD+= -lws2_32
t_asql_query_LDADD+= -lpsapi
t_asql_query_LDADD+= -liphlpapi
endif
check_PROGRAMS+= t/asql/query
noinst_PROGRAMS+= t/asql/query

t_asql_multi_query_SOURCES= tests/asql/multi_query.cc
t_asql_multi_query_LDADD= src/asql/libattachsql.la
if BUILD_WIN32
t_asql_multi_query_LDADD+= -lws2_32
t_asql_multi_query_LDADD+= -lpsapi
t_asql_multi_query_LDADD+= -liphlpapi
endif
check_PROGRAMS+= t/asql/multi_query
noinst_PROGRAMS+= t/asql/multi_query

t_asql_query_error_SOURCES= tests/asql/query_error.cc
t_asql_query_error_LDADD= src/asql/libattachsql.la
if BUILD_WIN32
t_asql_query_error_LDADD+= -lws2_32
t_asql_query_error_LDADD+= -lpsapi
t_asql_query_error_LDADD+= -liphlpapi
endif
check_PROGRAMS+= t/asql/query_error
noinst_PROGRAMS+= t/asql/query_error

t_asql_connect_error_SOURCES= tests/asql/connect_error.cc
t_asql_connect_error_LDADD= src/asql/libattachsql.la
if BUILD_WIN32
t_asql_connect_error_LDADD+= -lws2_32
t_asql_connect_error_LDADD+= -lpsapi
t_asql_connect_error_LDADD+= -liphlpapi
endif
check_PROGRAMS+= t/asql/connect_error
noinst_PROGRAMS+= t/asql/connect_error
